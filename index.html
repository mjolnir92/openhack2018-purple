<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Open hack 2018 - Purple</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/app.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <script src="js/external/vue.js"></script>
  <script src="js/external/vue-resource.js"></script>
</head>
<body>
  <div id="app">
    <div class="wrapper">
      <template v-if="!language">
        <purple-header title="Välj ditt språk" translation="Pick your language"></purple-header>

        <img v-if="!languages.length" width="200" src="images/loading.gif">

        <purple-language
          v-for="(language, index) in languages"
          :key="index"
          :language="language.name"
          :flag="language.flag"
          @click.native="setLanguage"
        ></purple-language>
    	</template>

    	<template v-if="language && !category">
        <purple-header title="Välkommen" translation="Welcome"></purple-header>
        <div class="row">

          <purple-category
            icon="..."
            name="Bank"
            translation="Bank"
            @click.native="setCategory('bank')"
          ></purple-category>

          <purple-category
            icon="..."
            name="Jobb"
            translation="Work"
          ></purple-category>

        </div>
        <div class="row">

          <purple-category
            icon="..."
            name="Kommunikation"
            translation="Communication"
          ></purple-category>

          <purple-category
            icon="..."
            name="Nödsituation"
            translation="Emergency"
          ></purple-category>
        </div>
        <div class="row">

          <purple-category
            icon="..."
            name="IM Kontakt"
            translation="IM Contact"
          ></purple-category>

        </div>
    	</template>

    	<template v-if="category && !tutorial">
        <purple-header title="Bank" translation="Bank"></purple-header>

        <div class="tutorials">
          <purple-tutorial
            v-for="(tutorial, index) in tutorials"
            :key="index"
            :background="tutorial.fields.bakgrundsbild"
            :logo="tutorial.fields.logga"
            :introduction="tutorial.fields.introduktion"
            @click.native="setTutorial(tutorial)"
          ></purple-tutorial>
        </div>
    	</template>

    	<template v-if="tutorial">
    		<template v-for="komponent in tutorial.fields.uppbyggnad[step].komponenter">
    			<template v-if="komponent.acf_fc_layout == 'text'">
    				<div class="tutorial-text" v-html="komponent.text"></div>
    			</template>
    			<template v-if="komponent.acf_fc_layout == 'video'">
            <!-- <div class="embed-container">
              <iframe :src="'https://www.youtube.com/embed/' + komponent.youtube_video_id" frameborder='0' allowfullscreen></iframe>
            </div> -->
    			</template>
    			<template v-if="komponent.acf_fc_layout == 'bild'">
    				<img :src="komponent.bild_url" alt=""><br>
    			</template>
    			<template v-if="komponent.acf_fc_layout == 'ljudfil'">

    			</template>
    		</template>
    		<div class="step-buttons">
    			<template v-if="tutorial.fields.uppbyggnad.length == 1">
    				<button v-on:click="menu">Avsluta</button>
    			</template>
    			<template v-else>
    				<template v-if="step == 0">
    					<button @click="menu">Avsluta</button>
    					<button @click="stepForward">Nästa</button>
    				</template>
    				<template v-else>
    					<template v-if="step == (tutorial.fields.uppbyggnad.length - 1)">
    						<button @click="stepBack">Föregående</button>
    						<button @click="menu">Avsluta</button>
    					</template>
    					<template v-else>
    						<button @click="stepBack">Föregående</button>
    						<button @click="menu">Avsluta</button>
    						<button @click="stepForward">Nästa</button>
    					</template>
    				</template>
    			</template>
    		</div>
    	</template>
    </div>
  </div>

  <script src="js/components.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
